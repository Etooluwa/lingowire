<!DOCTYPE html>
<html>
<head>
<style>
  body { background: #FAFBFF; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; font-family: sans-serif; overflow: hidden; }
  .globe-container { position: relative; width: 500px; height: 500px; }
  canvas { width: 100%; height: 100%; object-fit: contain; }
  .lang-label { position: absolute; background: white; padding: 4px 10px; border-radius: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); font-weight: bold; font-size: 14px; color: #1E3A8A; opacity: 0; transition: opacity 0.5s; pointer-events: none;}
</style>
</head>
<body>
  <div class="globe-container">
    <canvas id="cobe"></canvas>
    <div id="labels"></div>
  </div>
  <script type="module">
    import createGlobe from 'https://cdn.skypack.dev/cobe';
    let phi = 0;
    let canvas = document.getElementById("cobe");
    
    // Markers: lat, lng, language
    const markersData = [
      { location: [40.7128, -74.006], name: "English ðŸ‡ºðŸ‡¸" },
      { location: [51.5074, -0.1278], name: "English ðŸ‡¬ðŸ‡§" },
      { location: [48.8566, 2.3522], name: "French ðŸ‡«ðŸ‡·" },
      { location: [40.4168, -3.7038], name: "Spanish ðŸ‡ªðŸ‡¸" },
      { location: [35.6762, 139.6503], name: "Japanese ðŸ‡¯ðŸ‡µ" },
      { location: [-23.5505, -46.6333], name: "Portuguese ðŸ‡§ðŸ‡·" },
      { location: [25.2048, 55.2708], name: "Arabic ðŸ‡¦ðŸ‡ª" },
      { location: [39.9042, 116.4074], name: "Mandarin ðŸ‡¨ðŸ‡³" },
      { location: [9.0820, 8.6753], name: "Igbo ðŸ‡³ðŸ‡¬" },
      { location: [-6.3690, 34.8888], name: "Swahili ðŸ‡¹ðŸ‡¿" },
      { location: [41.9028, 12.4964], name: "Italian ðŸ‡®ðŸ‡¹" },
      { location: [37.5665, 126.9780], name: "Korean ðŸ‡°ðŸ‡·" },
      { location: [52.5200, 13.4050], name: "German ðŸ‡©ðŸ‡ª" }
    ];

    const labelsContainer = document.getElementById("labels");
    const labels = markersData.map(m => {
      const el = document.createElement("div");
      el.className = "lang-label";
      el.innerText = m.name;
      labelsContainer.appendChild(el);
      return { el, location: m.location };
    });

    const globe = createGlobe(canvas, {
      devicePixelRatio: 2,
      width: 1000,
      height: 1000,
      phi: 0,
      theta: 0,
      dark: 0,
      diffuse: 1.2,
      scale: 1,
      mapSamples: 16000,
      mapBrightness: 6,
      baseColor: [0.93, 0.95, 0.99], // #EDF2FA roughly
      markerColor: [0.26, 0.71, 0.9], // var(--clr-accent) 42B4E6 -> [66/255, 180/255, 230/255]
      glowColor: [1, 1, 1],
      markers: markersData.map(m => ({ location: m.location, size: 0.05 })),
      onRender: (state) => {
        state.phi = phi;
        phi += 0.003;
        
        // Very basic projection to 2d for labels (this requires some math)
        // Cobe does not expose 2D coords built-in easily without math
      }
    });
  </script>
</body>
</html>
